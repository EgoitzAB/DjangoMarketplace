{% extends 'pages/base.html' %}
{% load static %}
<html>
<head>
    <title>Crear Orden</title>
</head>
<body>
    {% block navbar %}
    {% include 'pages/navbar.html' %}
    {% endblock navbar %}
    {% block content %}
    {% if request.session.carrito|length > 0 %}
    <h1>Crear Orden</h1>
    <form method="post" action="{% url 'pago:create_order' %}">
        {% csrf_token %}
        {{ form.non_field_errors }}
        <div class="form-group">
            <label for="{{ form.first_name.id_for_label }}">Nombre:</label>
            {{ form.first_name }}
            {{ form.first_name.errors }}
        </div>
        <div class="form-group">
            <label for="{{ form.last_name.id_for_label }}">Apellido:</label>
            {{ form.last_name }}
            {{ form.last_name.errors }}
        </div>
        <div class="form-group">
            <label for="{{ form.email.id_for_label }}">Correo Electrónico:</label>
            {{ form.email }}
            {{ form.email.errors }}
        </div>
        <div class="form-group">
            <label for="{{ form.telefono.id_for_label }}">Teléfono:</label>
            {{ form.telefono }}
            {{ form.telefono.errors }}
        </div>
        <div class="form-group">
            <label for="{{ form.city.id_for_label }}">Ciudad:</label>
            {{ form.city }}
            {{ form.city.errors }}
        </div>
        <div class="form-group">
            <label for="{{ form.country.id_for_label }}">País:</label>
            {{ form.country }}
            {{ form.country.errors }}
        </div>
        <div class="form-group">
            <label for="{{ form.line1.id_for_label }}">Dirección (Línea 1):</label>
            {{ form.line1 }}
            {{ form.line1.errors }}
        </div>
        <div class="form-group">
            <label for="{{ form.line2.id_for_label }}">Dirección (Línea 2):</label>
            {{ form.line2 }}
            {{ form.line2.errors }}
        </div>
        <div class="form-group">
            <label for="{{ form.postal_code.id_for_label }}">Código Postal:</label>
            {{ form.postal_code }}
            {{ form.postal_code.errors }}
        </div>
        <div class="form-group">
            <label for="{{ form.provincia.id_for_label }}">Provincia:</label>
            {{ form.provincia }}
            {{ form.provincia.errors }}
        </div>
        <button type="submit">Crear Orden</button>
    </form>
    {% block javascript %}
    <script src="{% static 'js/countries.js' %}"></script>
    {% endblock javascript %}
    {% else %}
    <p>No hay productos en el carrito.</p>
    <a href="{% url 'tienda:listado' %}" class="btn btn-secondary">Volver a la tienda</a>
    {% endif %}
    {% endblock content %}
</body>
</html>
